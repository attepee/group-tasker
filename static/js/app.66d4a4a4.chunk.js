(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{162:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return A}));var r=n(0),o=n(223),i=n(222),s=n(12),l=n.n(s),c=n(6),u=n.n(c),a=n(7),d=n.n(a),f=n(45),j=n(18),b=n(59),h=n(14),m=n(67),x=n(3),O=n(220),p=n(70),y=(n(104),n(219)),g=n(23),I=n(30),C=n(4),B=I.default.get("window").width,w=I.default.get("window").height,T=C.default.create({Root:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},Container:{width:B<768?"90%":"30%",alignItems:"center",justifyContent:"center"},Input:{backgroundColor:"#fff",borderStyle:"solid",borderWidth:2,borderColor:"#333",padding:10},InputHeader:{width:"100%",fontSize:18,fontWeight:"bold",color:"#333"},TextInput:{width:"100%",borderRadius:5,margin:10},NumberInputContainer:{width:"100%",flexDirection:"row",justifyContent:"center",margin:10},NumberInputButton:{justifyContent:"center",alignItems:"center",width:"20%",backgroundColor:"#333",fontWeight:"bold",color:"#fff"},NumberInputButtonLeft:{borderBottomLeftRadius:5,borderTopLeftRadius:5},NumberInputButtonRight:{borderBottomRightRadius:5,borderTopRightRadius:5},NumberInput:{width:"60%"},ItemInputContainer:{width:"100%",flexDirection:"row",justifyContent:"center",margin:10},ItemInput:{width:"80%",borderBottomLeftRadius:5,borderTopLeftRadius:5},ItemInputButton:{justifyContent:"center",alignItems:"center",width:"20%",backgroundColor:"#333",fontWeight:"bold",color:"#fff",borderBottomRightRadius:5,borderTopRightRadius:5},ButtonContainer:{width:"100%",flexDirection:"row",justifyContent:"space-between",margin:10},Button:{paddingVertical:12,paddingHorizontal:32,borderRadius:4,alignItems:"center"},ButtonHor:{width:"48%"},ButtonHorAlt:{width:"32%"},ButtonVert:{width:"100%",marginBottom:10},Confirm:{backgroundColor:"#4EDA25"},Cancel:{backgroundColor:"#DA5625"},Continue:{backgroundColor:"#25A9DA"},ButtonText:{fontSize:14,fontFamily:"sans-serif",fontWeight:"bold",color:"#fff"},ModalRoot:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},ModalContainer:{width:B<768?"90%":"30%",alignItems:"center",justifyContent:"center"},FlatList:{width:"100%",maxHeight:.7*w},ItemContainer:{width:"100%",flexDirection:"row",justifyContent:"center",marginBottom:10},ItemTitleContainer:{width:"80%",borderStyle:"solid",borderWidth:2,borderColor:"#333",borderBottomLeftRadius:5,borderTopLeftRadius:5,padding:10},ItemTitle:{fontSize:20,fontWeight:"bold",color:"#333",textAlign:"center"},ItemText:{fontSize:16,color:"#333",textAlign:"center"},ItemButton:{justifyContent:"center",alignItems:"center",width:"20%",backgroundColor:"#333",fontWeight:"bold",color:"#fff",borderBottomRightRadius:5,borderTopRightRadius:5},Header:{width:"100%",fontSize:20,fontWeight:"bold",color:"#333",marginBottom:10}}),v=n(2);function S(t){return Object(v.jsx)(x.default,{style:{justifyContent:"center",alignItems:"center",flex:1},children:Object(v.jsx)(h.default,{style:{color:"#333",fontSize:24,textAlign:"center",padding:20},children:t})})}function R(t){var e=t.navigation,n=Object(r.useState)([]),o=u()(n,2),i=o[0],s=o[1],c=Object(r.useState)(),a=u()(c,2),I=a[0],C=a[1],B=Object(r.useState)(!1),w=u()(B,2),R=w[0],P=w[1],k=Object(g.useIsFocused)();Object(r.useEffect)((function(){k&&H()}),[g.useIsFocused]),Object(r.useEffect)((function(){z()}),[i]);var H=function(){var t;return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.awrap(p.default.getItem("@groups"));case 3:null!==(t=e.sent)&&s(JSON.parse(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Something went wrong while loading groups.");case 10:case"end":return e.stop()}}),null,null,[[0,7]],Promise)},z=function(){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(p.default.setItem("@groups",JSON.stringify(i)));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),onsole.log("Something went wrong while saving the groups.");case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)};return Object(v.jsxs)(x.default,{style:T.Root,children:[Object(v.jsxs)(x.default,{style:T.Container,children:[Object(v.jsx)(j.default,{style:[T.Button,T.ButtonVert,T.Continue],onPress:function(){return P(!R)},children:Object(v.jsxs)(h.default,{style:T.ButtonText,children:[Object(v.jsx)(O.default,{name:"users",size:16,color:"white"})," New group"]})}),i.length<1?S("No groups yet..."):Object(v.jsx)(f.default,{style:T.FlatList,data:i,keyExtractor:function(t,e){return e.toString()},renderItem:function(t){var n=t.item;return Object(v.jsxs)(x.default,{style:T.ItemContainer,children:[Object(v.jsx)(j.default,{style:T.ItemTitleContainer,onPress:function(){return e.navigate("Group tasker",{groups:i,currentItemId:n.id,currentItemTitle:n.title,currentItemParticipants:n.participants,currentItemTasks:n.tasks,currentItemTeams:n.teams})},children:Object(v.jsx)(h.default,{style:T.ItemTitle,children:n.title})}),Object(v.jsx)(j.default,{style:T.ItemButton,onPress:function(){return function(t){var e=i.filter((function(e){return e.id!==t}));s(e)}(n.id)},children:Object(v.jsx)(O.default,{name:"cross",size:20,color:"white"})})]})}})]}),Object(v.jsx)(b.default,{animationType:"slide",transparent:!0,visible:R,onRequestClose:function(){P(!R)},children:Object(v.jsx)(x.default,{style:T.ModalRoot,children:Object(v.jsxs)(x.default,{style:T.ModalContainer,children:[Object(v.jsx)(h.default,{style:T.InputHeader,children:"Title"}),Object(v.jsx)(m.default,{style:[T.Input,T.TextInput],placeholder:"Enter title here",onChangeText:function(t){return C(t)}}),Object(v.jsxs)(x.default,{style:T.ButtonContainer,children:[Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHor,T.Cancel],onPress:function(){return P(!R)},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Cancel"})}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHor,T.Confirm],onPress:function(){return s([].concat(l()(i),[{id:Object(y.default)(),title:I,participants:[],tasks:[],teams:[]}])),z(),void P(!R)},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Save"})})]})]})})})]})}var P=n(5),k=n.n(P);function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){k()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t){t.navigation;var e=t.route,n=Object(r.useState)([]),o=u()(n,2),i=o[0],s=o[1],c=Object(r.useState)(),a=u()(c,2),g=a[0],I=a[1],C=Object(r.useState)(),B=u()(C,2),w=B[0],R=B[1],P=Object(r.useState)(!1),k=u()(P,2),H=k[0],M=k[1],N=Object(r.useState)(!1),A=u()(N,2),D=A[0],E=A[1],L=Object(r.useState)(!1),W=u()(L,2),F=W[0],V=W[1],J=Object(r.useState)(0),q=u()(J,2),G=q[0],K=q[1],Q=Object(r.useState)([]),U=u()(Q,2),X=U[0],Y=U[1],Z=Object(r.useState)(""),$=u()(Z,2),_=$[0],tt=$[1],et=Object(r.useState)([]),nt=u()(et,2),rt=nt[0],ot=nt[1],it=Object(r.useState)(""),st=u()(it,2),lt=st[0],ct=st[1],ut=Object(r.useState)([]),at=u()(ut,2),dt=at[0],ft=at[1];Object(r.useEffect)((function(){0==i.length&&(s(e.params.groups),I(e.params.currentItemId),R(e.params.currentItemTitle),Y(e.params.currentItemParticipants),ot(e.params.currentItemTasks),ft(e.params.currentItemTeams))}));var jt=function(t){H?tt(t):ct(t),/[0-9A-\xd6a-\xf6]\s/g.test(t)&&(H?bt():ht())},bt=function(){Y([].concat(l()(X),[{id:Object(y.default)(),name:_,selectedToTeam:!1}])),tt("")},ht=function(){ot([].concat(l()(rt),[{id:Object(y.default)(),title:lt}])),ct("")},mt=function(){var t=z(z({},i.filter((function(t){return t.id==g}))[0]),{},{participants:X});i.splice(i.findIndex((function(t){return t.id==g})),1,t),pt()},xt=function(){var t=z(z({},i.filter((function(t){return t.id==g}))[0]),{},{tasks:rt});i.splice(i.findIndex((function(t){return t.id==g})),1,t),pt()},Ot=function(){var t=X.length,e=rt.length;0==t.length||0==e?K(0):K(Math.floor(t/e))},pt=function(){return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.awrap(p.default.setItem("@groups",JSON.stringify(i)));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),onsole.log("Something went wrong while saving the groups: "+t.t0);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)};return Object(v.jsxs)(x.default,{style:T.Root,children:[Object(v.jsxs)(x.default,{style:T.Container,children:[Object(v.jsx)(h.default,{style:T.Header,children:w}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonVert,T.Continue],onPress:function(){return M(!H)},children:Object(v.jsxs)(h.default,{style:T.ButtonText,children:[Object(v.jsx)(O.default,{name:"users",size:16,color:"white"})," Participants"]})}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonVert,T.Continue],onPress:function(){return E(!D)},children:Object(v.jsxs)(h.default,{style:T.ButtonText,children:[Object(v.jsx)(O.default,{name:"list",size:16,color:"white"})," Tasks"]})}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonVert,T.Continue],onPress:function(){V(!F),Ot()},children:Object(v.jsxs)(h.default,{style:T.ButtonText,children:[Object(v.jsx)(O.default,{name:"shuffle",size:16,color:"white"})," Teams"]})})]}),Object(v.jsx)(b.default,{animationType:"slide",transparent:!0,visible:H,onRequestClose:function(){M(!H)},children:Object(v.jsx)(x.default,{style:T.ModalRoot,children:Object(v.jsxs)(x.default,{style:T.ModalContainer,children:[Object(v.jsx)(h.default,{style:T.InputHeader,children:"Add or remove participants"}),Object(v.jsxs)(x.default,{style:T.ButtonContainer,children:[Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHor,T.Cancel],onPress:function(){M(!H),X.length<1&&Y([])},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Cancel"})}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHor,T.Confirm],onPress:function(){M(!H),mt(),Ot()},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Save"})})]}),Object(v.jsxs)(x.default,{style:T.ItemInputContainer,children:[Object(v.jsx)(m.default,{style:[T.Input,T.ItemInput],value:_,placeholder:"Enter name here",onChangeText:function(t){return jt(t)}}),Object(v.jsx)(j.default,{style:T.ItemInputButton,onPress:function(){return bt()},children:Object(v.jsx)(O.default,{name:"add-user",size:16,color:"white"})})]}),X.length<1?S("No participants yet..."):Object(v.jsx)(f.default,{style:T.FlatList,data:X,keyExtractor:function(t,e){return e.toString()},renderItem:function(t){var e=t.item;return Object(v.jsxs)(x.default,{style:T.ItemContainer,children:[Object(v.jsx)(j.default,{style:T.ItemTitleContainer,children:Object(v.jsx)(h.default,{style:T.ItemTitle,children:e.name})}),Object(v.jsx)(j.default,{style:T.ItemButton,onPress:function(){return function(t){var e=X.filter((function(e){return e.id!==t}));Y(e),mt()}(e.id)},children:Object(v.jsx)(O.default,{name:"cross",size:20,color:"white"})})]})}})]})})}),Object(v.jsx)(b.default,{animationType:"slide",transparent:!0,visible:D,onRequestClose:function(){E(!D)},children:Object(v.jsx)(x.default,{style:T.ModalRoot,children:Object(v.jsxs)(x.default,{style:T.ModalContainer,children:[Object(v.jsx)(h.default,{style:T.InputHeader,children:"Add or remove tasks"}),Object(v.jsxs)(x.default,{style:T.ButtonContainer,children:[Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHor,T.Cancel],onPress:function(){E(!D),rt.length<1&&ot([])},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Cancel"})}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHor,T.Confirm],onPress:function(){E(!D),xt(),Ot()},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Save"})})]}),Object(v.jsxs)(x.default,{style:T.ItemInputContainer,children:[Object(v.jsx)(m.default,{style:[T.Input,T.ItemInput],value:lt,placeholder:"Enter task here",onChangeText:function(t){return jt(t)}}),Object(v.jsx)(j.default,{style:T.ItemInputButton,onPress:function(){return ht()},children:Object(v.jsx)(O.default,{name:"add-to-list",size:16,color:"white"})})]}),rt.length<1?S("No tasks yet..."):Object(v.jsx)(f.default,{style:T.FlatList,data:rt,keyExtractor:function(t,e){return e.toString()},renderItem:function(t){var e=t.item;return Object(v.jsxs)(x.default,{style:T.ItemContainer,children:[Object(v.jsx)(j.default,{style:T.ItemTitleContainer,children:Object(v.jsx)(h.default,{style:T.ItemTitle,children:e.title})}),Object(v.jsx)(j.default,{style:T.ItemButton,onPress:function(){return function(t){var e=rt.filter((function(e){return e.id!==t}));ot(e),xt()}(e.id)},children:Object(v.jsx)(O.default,{name:"cross",size:20,color:"white"})})]})}})]})})}),Object(v.jsx)(b.default,{animationType:"slide",transparent:!0,visible:F,onRequestClose:function(){V(!F)},children:Object(v.jsx)(x.default,{style:T.ModalRoot,children:Object(v.jsxs)(x.default,{style:T.ModalContainer,children:[Object(v.jsx)(h.default,{style:T.InputHeader,children:"Draw teams"}),Object(v.jsxs)(x.default,{style:T.ButtonContainer,children:[Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHorAlt,T.Cancel],onPress:function(){return V(!F)},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Cancel"})}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHorAlt,T.Continue],onPress:function(){return function(){for(var t=[],e=[],n=0;n<rt.length;n++){for(var r=function(t){var n=X.filter((function(t){return 0==t.selectedToTeam})),r=Math.floor(Math.random()*n.length),o=X.findIndex((function(t){return t.id==n[r].id}));e.push(n[r].name),X[o].selectedToTeam=!0},o=0;o<G;o++)r();t=[].concat(l()(t),[{title:rt[n].title,members:e}]),e=[]}var i=X.filter((function(t){return 0==t.selectedToTeam}));if(i.length>0)for(var s=function(e){var n=Math.floor(Math.random()*t.length),r=X.findIndex((function(t){return t.id==i[e].id}));t[n].members.push(i[e].name),X[r].selectedToTeam=!0},c=0;c<i.length;c++)s(c);ft(t);for(var u=0;u<X.length;u++)X[u].selectedToTeam=!1}()},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Draw"})}),Object(v.jsx)(j.default,{style:[T.Button,T.ButtonHorAlt,T.Confirm],onPress:function(){(function(){var t=z(z({},i.filter((function(t){return t.id==g}))[0]),{},{teams:dt});i.splice(i.findIndex((function(t){return t.id==g})),1,t),pt()})(),V(!F)},children:Object(v.jsx)(h.default,{style:T.ButtonText,children:"Save"})})]}),dt.length<1?S("No teams yet..."):Object(v.jsx)(f.default,{style:T.FlatList,data:dt,keyExtractor:function(t,e){return e.toString()},renderItem:function(t){var e=t.item;return Object(v.jsx)(x.default,{style:T.ItemContainer,children:Object(v.jsxs)(j.default,{style:T.ItemTitleContainer,children:[Object(v.jsx)(h.default,{style:T.ItemTitle,children:e.title}),Object(v.jsx)(h.default,{style:T.ItemText,children:e.members.map((function(t){return t+"\n"}))})]})})}})]})})})]})}var N=Object(i.default)();function A(){return Object(v.jsx)(o.default,{children:Object(v.jsxs)(N.Navigator,{initialRouteName:"Home",children:[Object(v.jsx)(N.Screen,{name:"Home",component:R}),Object(v.jsx)(N.Screen,{name:"Group tasker",component:M})]})})}},171:function(t,e,n){t.exports=n(207)}},[[171,1,2]]]);
//# sourceMappingURL=app.66d4a4a4.chunk.js.map